# feat/delivery - ë°°ì†¡ì§€ ê´€ë¦¬ ê¸°ëŠ¥ êµ¬í˜„

## ê¸°ëŠ¥ìš”êµ¬ì‚¬í•­ ID - ê¸°ëŠ¥ì‚¬í•­ëª…

**FEAT-001** - ì‚¬ìš©ì ë°°ì†¡ì§€ ê´€ë¦¬ ê¸°ëŠ¥

## User Story

**As a** ì‡¼í•‘ëª° ì‚¬ìš©ì,  
**I want to** ë‚´ ë°°ì†¡ì§€ë¥¼ ë“±ë¡, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆë„ë¡ í•˜ê³ ,  
**so that** ì£¼ë¬¸ ì‹œ í¸ë¦¬í•˜ê²Œ ë°°ì†¡ì§€ë¥¼ ì„ íƒí•  ìˆ˜ ìˆê³ , ì •í™•í•œ ë°°ì†¡ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.

## Description

ì‚¬ìš©ìê°€ ìì‹ ì˜ ë°°ì†¡ì§€ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì„ í†µí•´ ì‚¬ìš©ìëŠ” ì—¬ëŸ¬ ê°œì˜ ë°°ì†¡ì§€ë¥¼ ë“±ë¡í•˜ê³ , ê° ë°°ì†¡ì§€ì— ëŒ€í•œ ìƒì„¸ ì •ë³´(ìˆ˜ë ¹ì¸, ì—°ë½ì²˜, ì£¼ì†Œ)ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

- ë°°ì†¡ì§€ ëª©ë¡ ì¡°íšŒ
- ìƒˆ ë°°ì†¡ì§€ ë“±ë¡
- ê¸°ì¡´ ë°°ì†¡ì§€ ìˆ˜ì •
- ë°°ì†¡ì§€ ì‚­ì œ
- ê¸°ë³¸ ë°°ì†¡ì§€ ì„¤ì •
- ì‚¬ìš©ìë³„ ë°°ì†¡ì§€ ê¶Œí•œ ê´€ë¦¬

### ê¸°ìˆ ì  íŠ¹ì§•

- í´ë¦° ì•„í‚¤í…ì²˜ íŒ¨í„´ ì ìš©
- JWT ê¸°ë°˜ ì¸ì¦ ë° ê¶Œí•œ ê²€ì¦
- RESTful API ì„¤ê³„
- ì™„ì „í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ (12ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤)

## Acceptance Criteria (ì™„ë£Œ ì¡°ê±´)

### ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

- [x] ì‚¬ìš©ìëŠ” ìì‹ ì˜ ëª¨ë“  ë°°ì†¡ì§€ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤
- [x] ì‚¬ìš©ìëŠ” ìƒˆë¡œìš´ ë°°ì†¡ì§€ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë‹¤
- [x] ì‚¬ìš©ìëŠ” ê¸°ì¡´ ë°°ì†¡ì§€ ì •ë³´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤
- [x] ì‚¬ìš©ìëŠ” ë°°ì†¡ì§€ë¥¼ ì‚­ì œí•  ìˆ˜ ìˆë‹¤
- [x] ì‚¬ìš©ìëŠ” ê¸°ë³¸ ë°°ì†¡ì§€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤
- [x] ì‚¬ìš©ìëŠ” ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ë°°ì†¡ì§€ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤

### ë°ì´í„° ìš”êµ¬ì‚¬í•­

- [x] ë°°ì†¡ì§€ ì •ë³´: ìˆ˜ë ¹ì¸ëª…, ì—°ë½ì²˜, ìš°í¸ë²ˆí˜¸, ê¸°ë³¸ì£¼ì†Œ, ìƒì„¸ì£¼ì†Œ, ê¸°ë³¸ë°°ì†¡ì§€ ì—¬ë¶€
- [x] ì‚¬ìš©ìë³„ ë°°ì†¡ì§€ ê´€ë¦¬ (1:N ê´€ê³„)
- [x] ë°°ì†¡ì§€ ìƒì„±/ìˆ˜ì •/ì‚­ì œ ì‹œì  ê¸°ë¡

### ë³´ì•ˆ ìš”êµ¬ì‚¬í•­

- [x] JWT í† í° ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦
- [x] ì‚¬ìš©ìë³„ ë°°ì†¡ì§€ ì ‘ê·¼ ê¶Œí•œ ê²€ì¦
- [x] ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ë°°ì†¡ì§€ ìˆ˜ì •/ì‚­ì œ ë°©ì§€

### í’ˆì§ˆ ìš”êµ¬ì‚¬í•­

- [x] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit) - **12ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì™„ë£Œ**
- [ ] í”„ë¡ íŠ¸ ì—°ë™(ë™ì‘) í…ŒìŠ¤íŠ¸
- [ ] SonarCube(cloud) í…ŒìŠ¤íŠ¸ í†µê³¼

## êµ¬í˜„ì„ ìœ„í•œ ê¸°ìˆ  Task (To-Do)

### âœ… ì™„ë£Œëœ ì‘ì—…

#### 1. ë„ë©”ì¸ ëª¨ë¸ ì„¤ê³„

- [x] `UserAddress` ì—”í‹°í‹° ì„¤ê³„
- [x] `UserAddressRepository` ì¸í„°í˜ì´ìŠ¤ ì •ì˜
- [x] `UserAddress` ë„ë©”ì¸ ë¡œì§ êµ¬í˜„ (updateAddress ë©”ì„œë“œ)

#### 2. ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ êµ¬í˜„

- [x] `UserAddressService` ì¸í„°í˜ì´ìŠ¤ ì •ì˜
- [x] `UserAddressServiceImpl` êµ¬í˜„
  - [x] `getAddresses()` - ë°°ì†¡ì§€ ëª©ë¡ ì¡°íšŒ
  - [x] `addAddress()` - ìƒˆ ë°°ì†¡ì§€ ë“±ë¡
  - [x] `updateAddress()` - ë°°ì†¡ì§€ ìˆ˜ì •
  - [x] `deleteAddress()` - ë°°ì†¡ì§€ ì‚­ì œ

#### 3. DTO ì„¤ê³„

- [x] `AddressRequestDto` - ë°°ì†¡ì§€ ìš”ì²­ DTO
- [x] `AddressResponseDto` - ë°°ì†¡ì§€ ì‘ë‹µ DTO
- [x] Builder íŒ¨í„´ ì ìš©ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í¸ì˜ì„± í–¥ìƒ

#### 4. ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬í˜„

- [x] `UserAddressController` êµ¬í˜„
- [x] RESTful API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„
  - [x] `GET /api/users/addresses` - ë°°ì†¡ì§€ ëª©ë¡ ì¡°íšŒ
  - [x] `POST /api/users/addresses` - ìƒˆ ë°°ì†¡ì§€ ë“±ë¡
  - [x] `PUT /api/users/addresses/{addressId}` - ë°°ì†¡ì§€ ìˆ˜ì •
  - [x] `DELETE /api/users/addresses/{addressId}` - ë°°ì†¡ì§€ ì‚­ì œ

#### 5. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ êµ¬í˜„

- [x] `UserAddressServiceTest` ì‘ì„± (12ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤)
  - [x] ì •ìƒ ë™ì‘ í…ŒìŠ¤íŠ¸ (7ê°œ)
  - [x] ì˜ˆì™¸ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ (5ê°œ)
- [x] Mock í”„ë ˆì„ì›Œí¬ë¥¼ í™œìš©í•œ ì™„ì „í•œ í…ŒìŠ¤íŠ¸ ê²©ë¦¬
- [x] Given-When-Then íŒ¨í„´ ì ìš©

### ğŸ”„ ì§„í–‰ ì¤‘ì¸ ì‘ì—…

#### 6. ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ êµ¬í˜„

- [ ] `UserAddressRepositoryImpl` êµ¬í˜„
- [ ] QueryDSLì„ í™œìš©í•œ ë™ì  ì¿¼ë¦¬ êµ¬í˜„
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ë° ì ìš©

### ğŸ“‹ ë‚¨ì€ ì‘ì—…

#### 7. í†µí•© í…ŒìŠ¤íŠ¸

- [ ] `UserAddressControllerTest` ì‘ì„±
- [ ] `@WebMvcTest`ë¥¼ í™œìš©í•œ ì»¨íŠ¸ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸
- [ ] API ì—”ë“œí¬ì¸íŠ¸ ë™ì‘ ê²€ì¦

#### 8. í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™

- [ ] í”„ë¡ íŠ¸ì—”ë“œ ë°°ì†¡ì§€ ê´€ë¦¬ í˜ì´ì§€ êµ¬í˜„
- [ ] API ì—°ë™ í…ŒìŠ¤íŠ¸
- [ ] ì‚¬ìš©ì ê²½í—˜(UX) ê²€ì¦

#### 9. ë¬¸ì„œí™”

- [ ] Swagger API ë¬¸ì„œ ì—…ë°ì´íŠ¸
- [ ] ê°œë°œì ê°€ì´ë“œ ì‘ì„±
- [ ] ì‚¬ìš©ì ë§¤ë‰´ì–¼ ì‘ì„±

#### 10. ì„±ëŠ¥ ìµœì í™”

- [ ] ë°°ì†¡ì§€ ëª©ë¡ ì¡°íšŒ ì„±ëŠ¥ ìµœì í™”
- [ ] ìºì‹± ì „ëµ ì ìš© ê²€í† 
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ ìµœì í™”

#### 11. ë³´ì•ˆ ê°•í™”

- [ ] ì…ë ¥ê°’ ê²€ì¦ ê°•í™”
- [ ] SQL Injection ë°©ì§€
- [ ] XSS ê³µê²© ë°©ì§€

#### 12. ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

- [ ] ë°°ì†¡ì§€ ê´€ë¦¬ ê´€ë ¨ ë¡œê¹… ì¶”ê°€
- [ ] ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- [ ] ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ ì„¤ì •

## í…ŒìŠ¤íŠ¸ ê²°ê³¼

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

```
UserAddressService í…ŒìŠ¤íŠ¸ > ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ì£¼ì†Œ ìˆ˜ì • ì‹œ ê¶Œí•œ ì˜ˆì™¸ ë°œìƒ PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì£¼ì†Œ ìˆ˜ì • ì‹œ ì˜ˆì™¸ ë°œìƒ PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ì‚¬ìš©ìì˜ ëª¨ë“  ì£¼ì†Œ ì¡°íšŒ ì„±ê³µ PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ì£¼ì†Œ ìˆ˜ì • ì„±ê³µ PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ì£¼ì†Œ ì‚­ì œ ì‹œ ê¶Œí•œ ì˜ˆì™¸ ë°œìƒ PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ì‚¬ìš©ìì˜ ì£¼ì†Œ ëª©ë¡ì´ ë¹„ì–´ìˆëŠ” ê²½ìš° PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ì£¼ì†Œ ì •ë³´ ì—…ë°ì´íŠ¸ ì‹œ ëª¨ë“  í•„ë“œ ë³€ê²½ í™•ì¸ PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ìë¡œ ì£¼ì†Œ ì¶”ê°€ ì‹œ ì˜ˆì™¸ ë°œìƒ PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ê¸°ë³¸ ì£¼ì†Œ ì„¤ì • í…ŒìŠ¤íŠ¸ PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì£¼ì†Œ ì‚­ì œ ì‹œ ì˜ˆì™¸ ë°œìƒ PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ìƒˆ ì£¼ì†Œ ì¶”ê°€ ì„±ê³µ PASSED
UserAddressService í…ŒìŠ¤íŠ¸ > ì£¼ì†Œ ì‚­ì œ ì„±ê³µ PASSED

12 tests completed, 0 failed
```

### ì½”ë“œ í’ˆì§ˆ ì§€í‘œ

- **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**: 100% (í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
- **ì½”ë“œ ë³µì¡ë„**: ë‚®ìŒ (ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜)
- **ì˜ˆì™¸ ì²˜ë¦¬**: ì™„ì „í•¨ (ëª¨ë“  ì˜ˆì™¸ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸)
- **ê¶Œí•œ ê²€ì¦**: ì™„ì „í•¨ (ì‚¬ìš©ìë³„ ì ‘ê·¼ ì œì–´)

## API ëª…ì„¸

### ë°°ì†¡ì§€ ëª©ë¡ ì¡°íšŒ

```
GET /api/users/addresses
Authorization: Bearer {JWT_TOKEN}

Response:
{
  "success": true,
  "message": "Successfully retrieved addresses.",
  "data": [
    {
      "id": 1,
      "recipientName": "í™ê¸¸ë™",
      "recipientPhone": "010-1234-5678",
      "zipCode": "12345",
      "addressLine1": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
      "addressLine2": "í…Œí—¤ë€ë¡œ 123",
      "isDefault": true
    }
  ]
}
```

### ìƒˆ ë°°ì†¡ì§€ ë“±ë¡

```
POST /api/users/addresses
Authorization: Bearer {JWT_TOKEN}
Content-Type: application/json

Request:
{
  "recipientName": "ë°•ì˜í¬",
  "recipientPhone": "010-5555-5555",
  "zipCode": "67890",
  "addressLine1": "ì„œìš¸ì‹œ ë§ˆí¬êµ¬",
  "addressLine2": "í™ëŒ€ë¡œ 789",
  "isDefault": false
}
```

### ë°°ì†¡ì§€ ìˆ˜ì •

```
PUT /api/users/addresses/{addressId}
Authorization: Bearer {JWT_TOKEN}
Content-Type: application/json

Request: (ìƒˆ ë°°ì†¡ì§€ ë“±ë¡ê³¼ ë™ì¼í•œ í˜•ì‹)
```

### ë°°ì†¡ì§€ ì‚­ì œ

```
DELETE /api/users/addresses/{addressId}
Authorization: Bearer {JWT_TOKEN}
```

## ê´€ë ¨ ì´ìŠˆ

- **Issue #123**: ë°°ì†¡ì§€ ê´€ë¦¬ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì •ì˜
- **Issue #124**: ë°°ì†¡ì§€ ê´€ë¦¬ API ì„¤ê³„
- **Issue #125**: ë°°ì†¡ì§€ ê´€ë¦¬ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ êµ¬í˜„

## ë‹´ë‹¹ì

- **ê°œë°œì**: FeedShop Backend Team
- **ë¦¬ë·°ì–´**: Senior Backend Developer
- **í…ŒìŠ¤í„°**: QA Team

## ì™„ë£Œ ì˜ˆì •ì¼

- **1ì°¨ ì™„ë£Œ**: 2024ë…„ 12ì›” (ë°±ì—”ë“œ API + ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
- **2ì°¨ ì™„ë£Œ**: 2025ë…„ 1ì›” (í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ + í†µí•© í…ŒìŠ¤íŠ¸)
- **ìµœì¢… ë°°í¬**: 2025ë…„ 1ì›” ë§

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„ 12ì›” 19ì¼  
**ìƒíƒœ**: ë°±ì—”ë“œ API êµ¬í˜„ ì™„ë£Œ, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì™„ë£Œ âœ…
